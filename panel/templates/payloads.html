{% extends "base.html" %}

{% block navbar %}
    {% include "navbar.html" %}
{% endblock %}

{% block content %}

<div class="flex flex-row justify-evenly items-start flex-nowrap gap-4 h-full min-h-full h-screen text-slate-100">
    <div class="w-full h-1/2 m-4">
        <div class="rounded-t bg-gray-50 dark:bg-slate-700 dark:border-gray-700 p-4">
            <form id="payload-form" method="post" action="{% url 'payloads' %}">
                {% csrf_token %}
                
                <div class="flex items-center mb-4">
                    <input id="windows" type="radio" value="windows" name="os" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    <label for="windows" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Windows</label>
                </div>
                <div class="flex items-center">
                    <input checked id="linux" type="radio" value="linux" name="os" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    <label for="linux" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Linux</label>
                </div>

                <div class="flex items-center mb-4">
                    <input id="py" type="radio" value="py" name="format" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    <label for="py" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">.py</label>
                </div>
                <div class="flex items-center">
                    <input checked id="exe" type="radio" value="exe" name="format" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    <label for="exe" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">.exe</label>
                </div>


                <button type="submit" class="w-full focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-b text-sm px-5 py-2.5 me-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">Generate payload</button>
            </form>
        </div>
    </div>
    
    <div class="w-full h-1/2 m-4">
        <div class="w-full h-full bg-gray-50 dark:bg-slate-700 dark:border-gray-700  p-4 overflow-auto rounded">
            <h2 class="text-xl font-bold leading-tight tracking-tight md:text-2xl">Generated Payloads</h2>
            <ul>
                {% for payload in payloads %}
                    <li>{{ payload.os }} - {{ payload.format }} - <a href="{{ payload.file_path }}" download>Download</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

{% endblock %}